stages:
  - test

# =======================
#     TESTS DE CYPRESS
# =======================

cypress_01_tests:
  stage: test
  image: cypress/included:12.17.1
  script:
    - cd "cypress/01 cypress sencillo"
    - npm install
    - npx cypress run --headless --browser electron

cypress_02_tests:
  stage: test
  image: cypress/included:12.17.1
  script:
    - cd "cypress/02 cypres POM"
    - npm install
    - npx cypress run --headless --browser electron

cypress_03_tests:
  stage: test
  image: cypress/included:12.17.1
  script:
    - cd "cypress/03 cypress POM + cucumber"
    - npm install
    - npx cypress run --headless --browser electron

# =======================
#     TESTS DE POSTMAN
# =======================

postman_tests:
  stage: test
  image:
    name: postman/newman:latest
    entrypoint: [""]
  script:
    - cd "ejercicios-API-con-postman"
    - newman run collection.json
